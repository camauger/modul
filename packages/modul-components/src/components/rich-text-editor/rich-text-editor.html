<div class="m-rich-text-editor"
     :class="{ 'm--is-disabled' : disabled,
               'm--is-waiting' : waiting,
               'm--has-error' : hasError,
               'm--is-valid' : isValid,
               'm--is-focus' : isFocus,
               'm--has-label': hasLabel,
               'm--has-validation-message': hasValidationMessage  }"
     :style="{ width: inputWidth, maxWidth: inputMaxWidth }"
     @click.stop="onClick">
    <m-input-style :label="label"
                   :label-for="id"
                   :disabled="disabled"
                   :readonly="readonly"
                   :waiting="waiting"
                   :error="hasError"
                   :valid="isValid"
                   :focus="isFocus"
                   :empty="isEmpty"
                   :border-top="!readonly"
                   :required-marker="requiredMarker"
                   :tag-style="tagStyle">
        <froala :config="internalOptions"
                :value="value"
                :disabled="disabled"
                :readonly="readonly"
                :custom-translations="customTranslations"
                :image-upload-custom-validation="imageUploadCustomValidation"
                :min-rows="minRows"
                @input="refreshModel"
                @focus="onFocus"
                @blur="onBlur"
                @change="onChange"
                @keypress.enter.prevent
                @keyup="onKeyup"
                @keydown="onKeydown"
                @paste="onPaste"
                @image-ready="imageReady"
                @image-added="imageAdded"
                @image-removed="imageRemoved"
                @fullscreen="onFullscreen"
                ref="input"></froala>
    </m-input-style>
    <m-validation-message class="m-rich-text-editor__validation-message"
                          :disabled="disabled"
                          :waiting="waiting"
                          :error="hasError"
                          :error-message="errorMessage"
                          :valid="isValid"
                          :valid-message="validMessage"
                          :helper-message="helperMessage"></m-validation-message>
</div>
