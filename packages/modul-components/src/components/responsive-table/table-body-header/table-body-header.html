<tr v-if="hasHeader || emptyAreaTextHeader"
    class="m-table-body-header"
    :class="[
        rowsGroupHeaderClassName,
        'm--is-skin-' + skin,
        {
            'm--is-disabled': isAccordionDisabled,
            'm--has-accordion': hasAccordion,
            'm--is-accordion-icon-position-left': isAccordeonIconPositionLeft,
            'm--is-accordion-icon-position-right': isAccordeonIconPositionRight,
            'm--is-first-column-fixed': firstColumnFixed,
        },
    ]"
    :tabindex="tabindexEnteteAccordeon"
    @click="toggleAccordeon($event)"
    @keyup.self.enter="toggleAccordeon($event)">
    <td v-if="
            hasHeaderWithoutCell ||
            (emptyAreaTextHeader && !hasHeaderCell && !hasHeader)
        "
        :colspan="columns.length">
        <div v-if="hasAccordion"
             class="m-table-body-header__accordion-border"
             :style="headerLeftPositionStyle"
             aria-hidden="true"></div>
        <div class="m-table-body-header__cell"
             :style="[headerWithoutCellsStyle]">
            <m-plus v-if="hasAccordion"
                    class="m-table-body-header__accordion-icon"
                    :open="isAccordionOpen"
                    :disabled="isAccordionDisabled"
                    :skin="mPlusSkin"
                    :large="true" />
            <div class="m-table-body-header__content-cell">
                <slot name="body-header-title"
                      :rows-group="rowsGroup">
                    <template v-if="rowsGroup.header && rowsGroup.header.title">
                        {{ rowsGroup.header.title }}
                    </template>
                    <template v-else-if="emptyAreaTextHeader">
                        {{ emptyAreaTextHeader }}
                    </template>
                </slot>
            </div>
        </div>
    </td>
    <template v-for="(column, columnIndex) in columns"
              v-else-if="hasHeaderCell">
        <td v-if="
                rowsGroup.header.cells &&
                rowsGroup.header.cells[column.dataProp]
            "
            :key="columnIndex"
            :class="[rowsGroup.header.cells[column.dataProp].className]"
            :colspan="rowsGroup.header.cells[column.dataProp].colspan">
            <div v-if="firstCellsItem === column.dataProp && hasAccordion"
                 class="m-table-body-header__accordion-border"
                 aria-hidden="true"></div>
            <div class="m-table-body-header__cell">
                <m-plus v-if="hasIconeAcccordeon(column.dataProp)"
                        class="m-table-body-header__accordion-icon"
                        :open="isAccordionOpen"
                        :disabled="isAccordionDisabled"
                        :skin="mPlusSkin"
                        :large="true" />
                <div class="m-table-body-header__content-cell">
                    <slot v-if="firstCellsItem === column.dataProp"
                          name="body-header-title"
                          :rowsGroup="rowsGroup">
                        <template v-if="
                                rowsGroup.header && rowsGroup.header.title
                            ">
                            {{ rowsGroup.header.title }}
                        </template>
                    </slot>
                    <slot :name="'body-header.' + column.dataProp"
                          :rowsGroup="rowsGroup">
                        <template v-if="
                                rowsGroup.header &&
                                rowsGroup.header.cells[column.dataProp]
                                    .value
                            ">
                            {{
                                rowsGroup.header.cells[column.dataProp]
                                    .value
                            }}
                        </template>
                    </slot>
                </div>
            </div>
        </td>
    </template>
</tr>
